# 機能要件仕様書

## 1. 基本機能

### 1.1 タスク追加
- **概要**: 新しいタスクをリストに追加する機能
- **入力**: テキスト入力フィールド
- **操作**: 
  - 入力フィールドに文字を入力してEnterキー押下
  - 追加ボタンをクリック
- **制約**: 
  - 空文字や空白のみの場合は追加しない
  - 追加後は入力フィールドをクリア
- **データ**: 
  - 一意のID自動生成
  - 作成日時を自動記録
  - 初期状態は未完了

### 1.2 タスク編集
- **概要**: 既存タスクの内容を変更する機能
- **操作**: タスクテキストをダブルクリック
- **編集モード**: 
  - インプレース編集（その場編集）
  - Enterキーで確定
  - Escapeキーでキャンセル
- **制約**: 
  - 空文字の場合は元の値に戻す
  - 編集中は他の操作を無効化

### 1.3 タスク完了/未完了
- **概要**: タスクの完了状態を切り替える機能
- **操作**: チェックボックスをクリック
- **視覚的変化**: 
  - 完了タスク: 取り消し線とグレーアウト表示
  - 未完了タスク: 通常表示
- **状態管理**: booleanフラグで管理

### 1.4 タスク削除
- **概要**: 不要なタスクをリストから削除する機能
- **操作**: 削除ボタン（×）をクリック
- **動作**: 
  - 即座に削除実行
  - 確認ダイアログは表示しない
  - localStorageからも削除

### 1.5 フィルター機能
- **概要**: タスクを条件で絞り込み表示する機能
- **フィルター種類**: 
  - **All**: 全てのタスクを表示
  - **Active**: 未完了タスクのみ表示
  - **Completed**: 完了タスクのみ表示
- **UI**: 
  - 選択中のフィルターはハイライト表示
  - フィルター変更時は即座に反映

### 1.6 カウンター表示
- **概要**: 未完了タスク数を表示する機能
- **表示位置**: フッター部分
- **更新タイミング**: 
  - タスク追加時
  - タスク完了状態変更時
  - タスク削除時
- **表示形式**: "X items left" 形式

## 2. データ永続化

### 2.1 localStorageへの保存
- **保存タイミング**: 
  - タスク追加時
  - タスク更新時
  - タスク削除時
- **データキー**: `todoapp-tasks`
- **データ形式**: JSON配列

### 2.2 データ復元
- **復元タイミング**: ページロード時
- **エラーハンドリング**: 
  - 不正なデータ形式の処理
  - localStorage使用不可時の代替処理

## 3. ユーザーインターフェース

### 3.1 レイアウト構成
- **ヘッダー**: アプリケーションタイトル
- **入力フォーム**: 新規タスク追加用
- **フィルターボタン**: タスク絞り込み用
- **タスクリスト**: タスク一覧表示
- **フッター**: 未完了タスク数表示

### 3.2 タスクアイテム構成
- **チェックボックス**: 完了状態切り替え
- **タスクテキスト**: 内容表示・編集
- **削除ボタン**: タスク削除

### 3.3 レスポンシブデザイン
- **デスクトップ**: 標準レイアウト
- **モバイル**: タッチ操作に最適化
- **タブレット**: 中間サイズ対応