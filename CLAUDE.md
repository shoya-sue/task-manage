# ToDoリストアプリ仕様書 (Claude.md)

## 基本仕様

### 1. 機能要件
- **タスク追加**: 新しいタスクをリストに追加
- **タスク完了**: タスクにチェックマークを付けて完了状態に変更
- **タスク削除**: 不要なタスクをリストから削除
- **タスク編集**: 既存タスクの内容を変更
- **フィルター機能**: 全て・未完了・完了済みでタスクを絞り込み
- **カウンター表示**: 未完了タスク数の表示

### 2. データ構造
```javascript
const task = {
  id: number,          // 一意のID
  text: string,        // タスクの内容
  completed: boolean,  // 完了状態
  createdAt: Date     // 作成日時
}
```

### 3. UI要件

#### レイアウト
- ヘッダー: アプリタイトル
- 入力フォーム: 新規タスク追加用
- フィルターボタン: All / Active / Completed
- タスクリスト: タスク一覧表示
- フッター: 未完了タスク数表示

#### タスクアイテム
- チェックボックス: 完了状態の切り替え
- タスクテキスト: ダブルクリックで編集モード
- 削除ボタン: ×マークでタスク削除

### 4. 操作ルール

#### タスク追加
- 入力フィールドに文字を入力してEnterキーまたは追加ボタンで追加
- 空文字や空白のみの場合は追加しない
- 追加後は入力フィールドをクリア

#### タスク完了/未完了
- チェックボックスクリックで状態切り替え
- 完了タスクは取り消し線とグレーアウト表示
- 未完了タスクは通常表示

#### タスク編集
- タスクテキストをダブルクリックで編集モード
- Enterキーで確定、Escapeキーでキャンセル
- 空文字の場合は元の値に戻す

#### タスク削除
- 削除ボタン（×）クリックで即座に削除
- 確認ダイアログは表示しない

#### フィルター機能
- **All**: 全てのタスクを表示
- **Active**: 未完了タスクのみ表示
- **Completed**: 完了タスクのみ表示
- 選択中のフィルターはハイライト表示

### 5. データ永続化
- ブラウザのlocalStorageにタスクデータを保存
- ページリロード時に保存されたデータを復元
- データのキー名: `todoapp-tasks`

### 6. スタイリング要件

#### 全体デザイン
- モダンでシンプルなデザイン
- レスポンシブ対応（モバイル・デスクトップ）
- 適切な余白とパディング

#### カラーパレット
- プライマリ: #007bff（青）
- 成功: #28a745（緑）
- 危険: #dc3545（赤）
- 背景: #f8f9fa（ライトグレー）
- テキスト: #343a40（ダークグレー）

#### ホバー効果
- ボタンや操作可能要素にホバー効果
- 削除ボタンはホバー時に赤色強調

### 7. 技術仕様

#### 使用技術
- HTML5
- CSS3 (Flexbox, Grid)
- Vanilla JavaScript (ES6+)
- ブラウザAPIのみ使用（ライブラリ不使用）

#### ブラウザ対応
- Chrome, Firefox, Safari, Edge（最新版）
- モバイルブラウザ対応

### 8. パフォーマンス要件
- 1000件のタスクでも快適に動作
- 操作レスポンス: 100ms以下
- 初期読み込み: 1秒以下

### 9. アクセシビリティ
- キーボード操作対応
- スクリーンリーダー対応
- 適切なaria属性の設定

### 10. エラーハンドリング
- localStorage使用不可時の代替処理
- 不正なデータ形式の処理
- ユーザーフレンドリーなエラーメッセー