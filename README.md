# ToDoãƒªã‚¹ãƒˆã‚¢ãƒ—ãƒª

ã‚·ãƒ³ãƒ—ãƒ«ã§ä½¿ã„ã‚„ã™ã„ToDoãƒªã‚¹ãƒˆç®¡ç†ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Vanilla JavaScriptã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€ãƒ–ãƒ©ã‚¦ã‚¶ã®localStorageã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’æ°¸ç¶šåŒ–ã—ã¾ã™ã€‚

## æ©Ÿèƒ½

- âœ… **ã‚¿ã‚¹ã‚¯è¿½åŠ **: æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã‚’ãƒªã‚¹ãƒˆã«è¿½åŠ 
- âœï¸ **ã‚¿ã‚¹ã‚¯ç·¨é›†**: æ—¢å­˜ã‚¿ã‚¹ã‚¯ã®å†…å®¹ã‚’å¤‰æ›´ï¼ˆãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ï¼‰
- âœ”ï¸ **ã‚¿ã‚¹ã‚¯å®Œäº†**: ã‚¿ã‚¹ã‚¯ã«ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚’ä»˜ã‘ã¦å®Œäº†çŠ¶æ…‹ã«å¤‰æ›´
- ğŸ—‘ï¸ **ã‚¿ã‚¹ã‚¯å‰Šé™¤**: ä¸è¦ãªã‚¿ã‚¹ã‚¯ã‚’ãƒªã‚¹ãƒˆã‹ã‚‰å‰Šé™¤
- ğŸ” **ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½**: å…¨ã¦ãƒ»æœªå®Œäº†ãƒ»å®Œäº†æ¸ˆã¿ã§ã‚¿ã‚¹ã‚¯ã‚’çµã‚Šè¾¼ã¿
- ğŸ“Š **ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼è¡¨ç¤º**: æœªå®Œäº†ã‚¿ã‚¹ã‚¯æ•°ã®è¡¨ç¤º
- ğŸ’¾ **ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–**: ãƒ–ãƒ©ã‚¦ã‚¶ã®localStorageã«è‡ªå‹•ä¿å­˜

## æŠ€è¡“ä»•æ§˜

- **HTML5**: ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãªãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—
- **CSS3**: Flexbox/Gridãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- **Vanilla JavaScript**: ES6+ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¸ä½¿ç”¨
- **ãƒ–ãƒ©ã‚¦ã‚¶API**: localStorageä½¿ç”¨

## ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œ

- Chromeï¼ˆæœ€æ–°ç‰ˆï¼‰
- Firefoxï¼ˆæœ€æ–°ç‰ˆï¼‰
- Safariï¼ˆæœ€æ–°ç‰ˆï¼‰
- Edgeï¼ˆæœ€æ–°ç‰ˆï¼‰
- ãƒ¢ãƒã‚¤ãƒ«ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œ

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- 1000ä»¶ã®ã‚¿ã‚¹ã‚¯ã§ã‚‚å¿«é©ã«å‹•ä½œ
- æ“ä½œãƒ¬ã‚¹ãƒãƒ³ã‚¹: 100msä»¥ä¸‹
- åˆæœŸèª­ã¿è¾¼ã¿: 1ç§’ä»¥ä¸‹

## ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œå¯¾å¿œ
- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ
- é©åˆ‡ãªariaå±æ€§ã®è¨­å®š

## ä½¿ç”¨æ–¹æ³•

1. å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã‚¿ã‚¹ã‚¯ã‚’å…¥åŠ›ã—ã¦Enterã‚­ãƒ¼ã¾ãŸã¯è¿½åŠ ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã‚¿ã‚¹ã‚¯ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã§ç·¨é›†ãƒ¢ãƒ¼ãƒ‰
3. ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å®Œäº†çŠ¶æ…‹ã‚’åˆ‡ã‚Šæ›¿ãˆ
4. Ã—ãƒœã‚¿ãƒ³ã§ã‚¿ã‚¹ã‚¯ã‚’å‰Šé™¤
5. ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒœã‚¿ãƒ³ã§ã‚¿ã‚¹ã‚¯ã‚’çµã‚Šè¾¼ã¿

## ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

```javascript
const task = {
  id: number,          // ä¸€æ„ã®ID
  text: string,        // ã‚¿ã‚¹ã‚¯ã®å†…å®¹
  completed: boolean,  // å®Œäº†çŠ¶æ…‹
  createdAt: Date     // ä½œæˆæ—¥æ™‚
}
```

## ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ

- ãƒ—ãƒ©ã‚¤ãƒãƒª: #007bffï¼ˆé’ï¼‰
- æˆåŠŸ: #28a745ï¼ˆç·‘ï¼‰
- å±é™º: #dc3545ï¼ˆèµ¤ï¼‰
- èƒŒæ™¯: #f8f9faï¼ˆãƒ©ã‚¤ãƒˆã‚°ãƒ¬ãƒ¼ï¼‰
- ãƒ†ã‚­ã‚¹ãƒˆ: #343a40ï¼ˆãƒ€ãƒ¼ã‚¯ã‚°ãƒ¬ãƒ¼ï¼‰

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

- localStorageä½¿ç”¨ä¸å¯æ™‚ã®ä»£æ›¿å‡¦ç†
- ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿å½¢å¼ã®å‡¦ç†
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

## ãƒ‡ãƒ—ãƒ­ã‚¤

### GitHub Actionsã‚’ä½¿ç”¨ã—ãŸConoha VPS (AlmaLinux 9)ã¸ã®è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

#### å‰ææ¡ä»¶
- Conoha VPS (AlmaLinux 9)ã‚µãƒ¼ãƒãƒ¼ãŒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ¸ˆã¿
- Apache (httpd)ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- GitHubãƒªãƒã‚¸ãƒˆãƒªãŒä½œæˆæ¸ˆã¿
- SELinuxãŒæœ‰åŠ¹ï¼ˆAlmaLinuxã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰

#### ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®šï¼ˆç’°å¢ƒæ§‹ç¯‰æ¸ˆã¿ã®å ´åˆï¼‰

æ—¢ã«ã‚µãƒ¼ãƒãƒ¼ç’°å¢ƒãŒæ§‹ç¯‰æ¸ˆã¿ã®å ´åˆã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è¨­å®šã§ãã¾ã™ã€‚

##### 1. ã‚µãƒ¼ãƒãƒ¼å´ã§ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
cd /var/www/vhosts
git clone https://github.com/YOUR_USERNAME/task-manage.git task.sho43.xyz
```

##### 2. GitHub Secretsã®è¨­å®š

GitHubãƒªãƒã‚¸ãƒˆãƒªã® Settings > Secrets and variables > Actions ã‹ã‚‰ä»¥ä¸‹ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’è¿½åŠ ï¼š

| Secret Name | èª¬æ˜ | ä¾‹ |
|------------|------|-----|
| `HOST` | ã‚µãƒ¼ãƒãƒ¼ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ | `123.456.789.0` |
| `USERNAME` | SSHãƒ¦ãƒ¼ã‚¶ãƒ¼å | `deploy` |
| `PRIVATE_KEY` | SSHãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ | `-----BEGIN RSA PRIVATE KEY-----...` |
| `PORT` | SSHãƒãƒ¼ãƒˆç•ªå· | `22` |

##### 3. ãƒ‡ãƒ—ãƒ­ã‚¤ã®å®Ÿè¡Œ

mainãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ã¨ã€è‡ªå‹•çš„ã«ä»¥ä¸‹ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ï¼š
1. ã‚µãƒ¼ãƒãƒ¼ã«SSHæ¥ç¶š
2. `/var/www/vhosts/task.sho43.xyz`ã«ç§»å‹•
3. `git pull origin main`ã§æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—

#### è©³ç´°ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆæ–°è¦ç’°å¢ƒã®å ´åˆï¼‰

##### 1. deployãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆ

```bash
# rootãƒ¦ãƒ¼ã‚¶ãƒ¼ã§å®Ÿè¡Œ
sudo useradd -m -s /bin/bash deploy
sudo usermod -aG apache deploy
sudo mkdir -p /home/deploy/.ssh
sudo chown -R deploy:deploy /home/deploy/.ssh
sudo chmod 700 /home/deploy/.ssh
```

##### 2. SSHã‚­ãƒ¼ã®ç”Ÿæˆ

```bash
# deployãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³
ssh deploy@your-server

# ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®SSHã‚­ãƒ¼ã‚’ç”Ÿæˆï¼ˆã¾ã ãªã„å ´åˆï¼‰
ssh-keygen -t rsa -b 4096 -C "your-email@example.com"

# å…¬é–‹éµã‚’ç¢ºèª
cat ~/.ssh/id_rsa.pub
```

ç”Ÿæˆã—ãŸå…¬é–‹éµã‚’ `~/.ssh/authorized_keys` ã«è¿½åŠ ã—ã¾ã™ã€‚

##### 3. ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã®å–å¾—

```bash
# deployãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã‚µãƒ¼ãƒãƒ¼ä¸Šã§å®Ÿè¡Œ
cat /home/deploy/.ssh/id_rsa
```

ã“ã®å†…å®¹ã‚’ GitHub Secrets ã® `PRIVATE_KEY` ã«è¨­å®šã—ã¾ã™ã€‚

##### 4. ã‚µãƒ¼ãƒãƒ¼ã®åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

æä¾›ã•ã‚Œã¦ã„ã‚‹ `scripts/setup-server.sh` ã‚’ã‚µãƒ¼ãƒãƒ¼ã§å®Ÿè¡Œï¼š

```bash
# ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚µãƒ¼ãƒãƒ¼ã«ã‚³ãƒ”ãƒ¼
scp scripts/setup-server.sh deploy@your-server:/tmp/

# ã‚µãƒ¼ãƒãƒ¼ã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
ssh deploy@your-server
chmod +x /tmp/setup-server.sh
sudo /tmp/setup-server.sh
```

**æ³¨æ„**: ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã® `YOUR_USERNAME` ã‚’å®Ÿéš›ã®GitHubãƒ¦ãƒ¼ã‚¶ãƒ¼åã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚

##### 5. sudoãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—ã§ã®å®Ÿè¡Œï¼ˆdeployãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨ï¼‰

```bash
# visudoã§ç·¨é›†ï¼ˆrootãƒ¦ãƒ¼ã‚¶ãƒ¼ã§å®Ÿè¡Œï¼‰
sudo visudo

# ä»¥ä¸‹ã‚’è¿½åŠ 
deploy ALL=(ALL) NOPASSWD: /bin/chown, /bin/chmod, /bin/systemctl, /usr/bin/git, /usr/sbin/semanage, /usr/sbin/restorecon
```

### AlmaLinux 9 ç’°å¢ƒã§ã®è¿½åŠ è¨­å®š

#### å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# Apache(httpd)ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo dnf install httpd -y

# Gitã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo dnf install git -y

# SELinuxç®¡ç†ãƒ„ãƒ¼ãƒ«
sudo dnf install policycoreutils-python-utils -y
```

#### SELinuxè¨­å®š

AlmaLinux 9ã§ã¯SELinuxãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹ã«ãªã£ã¦ã„ã¾ã™ã€‚Webã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‚ˆã†ã«è¨­å®šãŒå¿…è¦ã§ã™ã€‚

```bash
# httpd_sys_content_tã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è¨­å®š
sudo semanage fcontext -a -t httpd_sys_content_t "/var/www/vhosts/task.sho43.xyz(/.*)?"
sudo restorecon -Rv /var/www/vhosts/task.sho43.xyz

# Gitæ“ä½œã‚’è¨±å¯
sudo setsebool -P httpd_use_git 1

# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’è¨±å¯ï¼ˆå¿…è¦ãªå ´åˆï¼‰
sudo setsebool -P httpd_can_network_connect 1
```

#### ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®š

```bash
# HTTP/HTTPSã‚’è¨±å¯
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo firewall-cmd --reload
```

### SSLè¨¼æ˜æ›¸ã®è¨­å®šï¼ˆæ¨å¥¨ï¼‰

Let's Encryptã‚’ä½¿ç”¨ã—ã¦SSLè¨¼æ˜æ›¸ã‚’è¨­å®šï¼š

```bash
sudo dnf install epel-release
sudo dnf install certbot python3-certbot-apache
sudo certbot --apache -d task.sho43.xyz
```

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### SSHæ¥ç¶šã‚¨ãƒ©ãƒ¼
- ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®šã‚’ç¢ºèª
- SSHè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« `/etc/ssh/sshd_config` ã‚’ç¢ºèª
- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ã®æ”¹è¡ŒãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

#### ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
```bash
# ã‚µãƒ¼ãƒãƒ¼å´ã§å®Ÿè¡Œ
sudo chown -R deploy:apache /var/www/vhosts/task.sho43.xyz
sudo chmod -R 755 /var/www/vhosts/task.sho43.xyz
```

#### Apacheã‚¨ãƒ©ãƒ¼
```bash
# è¨­å®šã‚’ãƒ†ã‚¹ãƒˆ
sudo httpd -t

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç¢ºèª
sudo tail -f /var/log/httpd/error_log

# SELinuxãŒåŸå› ã®å ´åˆ
sudo ausearch -m avc -ts recent
sudo setsebool -P httpd_can_network_connect 1
```

#### SELinuxé–¢é€£ã®ã‚¨ãƒ©ãƒ¼

```bash
# SELinuxã®ãƒ­ã‚°ã‚’ç¢ºèª
sudo ausearch -m avc -ts recent

# ä¸€æ™‚çš„ã«SELinuxã‚’ç„¡åŠ¹åŒ–ã—ã¦ãƒ†ã‚¹ãƒˆï¼ˆæœ¬ç•ªç’°å¢ƒã§ã¯æ¨å¥¨ã—ã¾ã›ã‚“ï¼‰
sudo setenforce 0  # Permissiveãƒ¢ãƒ¼ãƒ‰
sudo setenforce 1  # Enforcingãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã™
```

#### httpdèµ·å‹•ã‚¨ãƒ©ãƒ¼

```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹æ–‡ãƒã‚§ãƒƒã‚¯
sudo httpd -t

# httpdã®çŠ¶æ…‹ç¢ºèª
sudo systemctl status httpd

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ç¢ºèª
sudo journalctl -xe -u httpd
```